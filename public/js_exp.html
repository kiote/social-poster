<html>
  
  <head>
    
    <script type="text/javascript">
      function handleIt()
      {
        alert("hello");
        VK.Api.call("wall.post", { message: "vkontakte_message" },
        function(r)
        {
          if (r.response)
          {
            alert("seems like message is sent");
            return "msg is sent";
          } else {
            alert("there's emptyiness ewponse");
          }
        }
      );
      }
    </script>
    
  </head>
  
  <body>
    <h3>JS Exp page</h3>
    
    <script src="http://vk.com/js/api/openapi.js?3" type="text/javascript"></script>
    
    
    
    <div id="login_button" onclick="VK.Auth.login(authInfo);"></div>
    
    <form name="myform" action="javascript:handleIt()">
      <input name="Submit"  type="submit" value="Update"/>
    </form>
    
    
    <script type="text/javascript">
      
      VK.init({
        apiId: 3756304
      });
      
      function authInfo(response)
      {
        if (response.session)
        {
          alert('user: '+response.session.mid);
        } else {
          alert('not auth');
        }
      }
      
      VK.Auth.getLoginStatus(authInfo);
      VK.UI.button('login_button');
      
    </script>
    
  </body>
  
</html>
